<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="style.css">
		<title>Masp</title>
	</head>
	<body>
		<header>
			<nav class="topbar"> 
				<ul>
					<!-- once clicked, let them type in their email -->
					<a href="login_css.html" id="subscribe">Subscribe</a>
					<a href="settings.html" id="settings">Settings</a>
				</ul>
			</nav>
			
			<div id="toptitle">
				<h1 id="name">Masp</h1>
				<h6 id="credits">using Google Maps and Yelp API</h6>
			</div>

			<div id="commands">
				<!-- add textbox to interact with the map. (address from and to) -->
				<input id="address1" type="search" /> to
				<input id="address2" type="search" />
				<br /> <br />
				<button id="go">Go!</button>
			</div>

			<div id="map">
				<script>
					function initMap() {
						var map = new google.maps.Map(document.getElementById('map'), {
							  	center: {lat: -34.397, lng: 150.644},
								zoom: 8,
								disableDefaultUI: true,
								styles: [{
									featureType: 'all',
									stylers: [{
										saturation: -40
									}]
								}]
						});

						var infoWindow = new google.maps.InfoeWindow({map: map});

						//Geolocation api
						if(navigator.geolocation) {
							navigator.geolocation.getCurrentPosition(function(position) {
								var pos = {
									lat: position.coords.latitude,
									lng: position.coords.longitude
								};
								infoWindow.setPosition(pos);
								infoWindow.setContent('Location found.');
								map.setCenter(pos);
							}, function() {
								handleLocationError(true, infoWindow, map.getCenter());
							});
						} else {
							// Browser doesn't support geolocation api
							handleLocationError(false, infoWindow, map.getCenter());
						}
					}

					function handleLocationError(browserHasGeolocation, infoWindow, pos) {
						infoWindow.setPostion(pos);
						infoWindow.setContent(browserHasGeolocation ?
								'Error: The Geolocation service has failed.' :
								'Error: Your browser doesn\'t support geolocation.');
					}
				</script>
				<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA6WqHcYx8ppFi1q0dXyrg6wHo3zszNibY&callback=initMap" async defer></script>
			</div>

			<div id="bottombar">
				<hr id="bot">
			</div>
		</header>
	</body>
</html>
