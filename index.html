<!DOCTYPE html>
<html xmlns:javascript="http://www.w3.org/1999/xhtml">
	<head>
		<link rel="stylesheet" type="text/css" href="style.css">
	    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	    <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase.js"></script>
		<title>Masp</title>
	</head>

	<!-- TODO: Move <script>foo</script> to .js -->
	<body>
		<header>
			<nav class="topbar">
				<!-- TODO: Clean out styling to a css file -->
				<ul>
					<!-- once clicked, let them type in their email -->
					<!-- Signup under construction -->
					<a href="signup_css.html" id="signup">Sign up</a>

					<!-- Basic setup of the following div block is from w3schools.com/howto/howto_js_fullscreen_overlay.asp -->
					<!-- Modifications done to suit our needs -->
					<div id="myNav" class="overlay">
						<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
						<div class="overlay-content">
  						<a href="#">THEME</a>
  						<div id="bluerect"></div>
							<div id="brownrect"></div>
							<div id="whiterect"></div>
						</div>
						<script src="js/theme.js"></script>
					</div>
  					<span style="font-size:26px;cursor:pointer;color:white;" onclick="openNav()">&#9776;<script src="js/nav.js"></script></span>
					<a href="#loginmodal" id="modaltrigger">Sign in</a>
					<div id="loginmodal" style="display:none;">
						<h1 id="logintitle">Login</h1>
						<form id="loginform" name="loginform" method="post" action="index.html">
							<label for="username"></label>
							<input type="text" placeholder="Email" name="username" id="username" class="txtfield" tabindex="1">
								<label for="password"></label>
							<input type="password" placeholder="Password" name="password" id="password" class="txtfield" tabindex="2">
							<div class="center"><input type="submit" name="loginbtn" id="loginbtn" class="flatbtn-blu hidemodal" value="Log In" tabindex="3"></div>
					  		<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
					  		<script type="text/javascript" charset="utf-8" src="js/jquery.leanModal.min.js"></script>
							<script src="js/login.js"></script>
						</form>
					</div>
					<script type="text/javascript" src="js/login.js"></script>
					<script type="text/javascript" src="js/firebase.js"></script>
				</ul>
			</nav>

			<div id="toptitle">
				<h1 id="name">Masp</h1>
				<h6 id="credits">using Google Maps and Yelp API</h6>
			</div>

			<div id="commands">
				<!-- add textbox to interact with the map. (address from and to) -->
				<input id="address1" type="search" placeholder="From"/> to
				<input id="address2" type="search" placeholder="To"/>
				<br /> <br />
				<!-- if button.click -> maximize map to the browser -->
				<button id="go">Go!</button>
			</div>

			<div id="map">
				<script>
					/**
					 * Below lines are sample js code from google maps api for js
					 */
					function initMap() {
						var map = new google.maps.Map(document.getElementById('map'), {
							center: {lat: -34.397, lng: 150.644},
							zoom: 6,
							disableDefaultUI: true,
							styles:[{
								featureType: 'all',
								stylers: [{
									saturation: -40
								}]
							}]
						});

						if (navigator.geolocation) {
							navigator.geolocation.getCurrentPosition(function(position) {
							var pos = {
								lat: position.coords.latitude,
								lng: position.coords.longitude
							};

							//var infoWindow = new google.maps.InfoWindow({map: map});
							//infoWindow.setPosition(pos);
							//infoWindow.setContent('You are here!');
							map.setCenter(pos);
							map.setZoom(16);
							}, function() {
							handleLocationError(true, infoWindow, map.getCenter());
							});
						} else {
							handleLocationError(false, infoWindow, map.getCenter());
						}
					}

					function handleLocationError(browserHasGeolocation, infoWindow, pos) {
						infoWindow.setPosition(pos);
						infoWindow.setContent(browserHasGeolocation ?
							'Error: The Geolocation service failed.' :
							'Error: Your browser doesn\'t support geolocation.');
					}
				</script>
				<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA6WqHcYx8ppFi1q0dXyrg6wHo3zszNibY&callback=initMap" async defer></script>
			</div>

			<div id="bottombar">
				<hr id="bot">
			</div>
		</header>
	</body>
</html>
